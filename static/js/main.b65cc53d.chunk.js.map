{"version":3,"sources":["store/warehouses/actionTypes.js","config/api.js","api/warehouses.js","api/products.js","store/products/actionTypes.js","store/products/actions.js","store/warehouses/actions.js","components/Loader/index.jsx","components/SelectElement.jsx","components/ProductsMoveElement.jsx","store/warehouses/reducer.js","components/ProductsMoveList.jsx","components/ProductsDistributionElement.jsx","components/ProductsDistributionList.jsx","components/WarehouseModal.jsx","components/WarehousesList.jsx","components/WarehousesDistributionElement.jsx","components/WarehousesDistributionList.jsx","components/ProductModal.jsx","components/ProductsList.jsx","store/products/reducer.js","store/index.js","App.jsx","serviceWorker.js","index.js"],"names":["SET_SELECTED_ITEM","SET_SELECTED_LOADING","SET_SELECTED_ERROR","SET_SELECTED_PRODUCTS_ITEMS","SET_SELECTED_PRODUCTS_FOR_MOVE","SET_SELECTED_PRODUCTS_FOR_DELETE","SET_SELECTED_PRODUCTS_ERROR","SET_SELECTED_PRODUCTS_LOADING","SET_LIST_ITEMS","SET_LIST_LOADING","SET_LIST_ERROR","SET_LIST_PAGE","SET_LIST_TOTAL_COUNT","url","fetchWarehousesList","a","page","limit","searchString","axios","get","apiConfig","response","items","data","totalCount","headers","fetchWarehousesListByProduct","productId","createWarehouse","title","productsDistributions","productsQuantity","reduce","sum","productDistributions","quantity","post","productsDistribution","warehouseId","id","product","editWarehouse","productsForDelete","productsForMove","put","isNew","edited","delete","productForMove","warehousesDistributions","warehouseDistributions","warehouse","responseWarehousesProducts","length","productForDelete","removeWarehouse","fetchAllProductsList","fetchProductsListByWarehouse","createProduct","freeQuantity","warehousesDistribution","editProduct","warehousesForDelete","warehouseForDelete","removeProduct","SET_SELECTED_WAREHOUSES_FOR_DELETE","SET_SELECTED_WAREHOUSES_ITEMS","SET_SELECTED_WAREHOUSES_ERROR","SET_SELECTED_WAREHOUSES_LOADING","fetchWarehousesBySelectedProduct","dispatch","getState","state","type","types","error","loading","warehousesApi","products","selected","item","warehouses","clearSelectedProduct","start","saveProduct","withoutUpdateWarehouses","findIndex","warehouseItem","Error","list","editProductIndexInArray","productsApi","pagination","push","updateWarehouses","reloadProuduct","editWarehouseForProduct","selectedProduct","addProductForDelete","warehousesActions","firstWarehouse","fetchProductsBySelectedWarehouses","clearSelectedWarehouse","productItem","newWarehouse","updateProducts","editWarehouseIndexInArray","updateWarehousesByMove","reloadWarehouse","editProductForMove","indexOfProductDistributions","calcProductForMoveQuantity","removeProductDistributionsFromMove","splice","editProductForWarehouse","productsActions","firstProduct","indexOfEditedWarehouse","Loader","full","className","style","position","SelectElement","props","disabled","backgroundColor","top","bottom","left","right","borderRadius","ProductsMoveElement","warehousesSelectPagination","count","prevProps","this","resetOptions","warehouseOption","productForMoveItem","value","console","warn","indexOfWarehousesDistributions","indexOf","setState","options","map","label","hasMore","filter","option","selectedWarehouse","find","prevOptions","loadedOptions","filterOptionsBySelected","cacheVersion","Form","Row","Col","cacheUniq","reduceOptions","loadOptions","onChange","e","onChangeWarehouse","Control","required","placeholder","min","onChangeQuantity","target","Button","block","variant","onClick","onClickRemove","width","Component","connect","initialState","action","actionTypes","getWarehousesDistributionsByProductDistributions","store","ProductsMoveList","newWarehouseDistributions","uuid","Array","isArray","key","onClickAddProductsMove","ownProps","warehousesSelectors","ProductsDistributionElement","productsSelectPagination","showMove","productOption","warehouseProducts","onlyMove","reduceSelectOptions","onChangeProduct","InputGroup","FormControl","aria-describedby","Append","Text","ButtonGroup","onClickMove","active","ProductsDistributionList","selectedWarehouseError","Alert","message","selectedWarehouseProducts","selectedWarehouseLoading","onClickAddProductDistribution","WarehouseModal","showBeforeRemoveModal","showMoveBeforeRemoveModal","event","preventDefault","selectedError","onWarehouseClose","onClose","onClickRemoveWarehouse","Modal","show","onHide","onShow","featchWarehouseProducts","onSubmit","onClickWarehouseSave","Header","closeButton","Title","Body","selectedLoading","Group","Label","Footer","onShowBeforeRemoveModal","onShowMoveBeforeRemoveModal","onClickRemoveWarehouseWithMove","WarehousesList","showWarehouseModal","feachMoreWarehouses","wrehousesActionTypes","element","scrollHeight","scrollTop","clientHeight","justifyContent","display","listError","height","overflow","onScroll","onScrollList","Table","striped","bordered","hover","listItems","onClickWarehouse","listLoading","selectedItem","WarehousesDistributionElement","productsWarehouse","indexOfWarehouseDistributions","WarehousesDistributionList","productWarehouse","selectedProductWarehouses","selectedProductError","selectedProductLoading","onClickAddWarehousesDistribution","ProductModal","onProductClose","featchProductWarehouses","onClickProductSave","warehousesDistributionsToDelete","onChangeQuantitySum","quantitySum","minQuantity","onClickRemoveProduct","ProductsList","showProductModal","feachMoreProducts","productsActionTypes","onClickAddProduct","onClickProduct","createStore","combineReducers","reducers","composeWithDevTools","applyMiddleware","thunk","App","Container","xs","md","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b65cc53d.chunk.js","sourcesContent":["export const SET_SELECTED_ITEM = \"warehouses.SET_SELECTED_ITEM\";\nexport const SET_SELECTED_LOADING = \"warehouses.SET_SELECTED_LOADING\";\nexport const SET_SELECTED_ERROR = \"warehouses.SET_SELECTED_ERROR\";\nexport const SET_SELECTED_PRODUCTS_ITEMS = \"warehouses.SET_SELECTED_PRODUCTS_ITEMS\";\n\nexport const SET_SELECTED_PRODUCTS_FOR_MOVE = \"warehouses.SET_SELECTED_PRODUCTS_FOR_MOVE\";\nexport const SET_SELECTED_PRODUCTS_FOR_DELETE = \"warehouses.SET_SELECTED_PRODUCTS_FOR_DELETE\";\n\nexport const SET_SELECTED_PRODUCTS_ERROR = \"warehouses.SET_SELECTED_PRODUCTS_ERROR\";\nexport const SET_SELECTED_PRODUCTS_LOADING = \"warehouses.SET_SELECTED_PRODUCTS_LOADING\";\n\nexport const SET_LIST_ITEMS = \"warehouses.SET_LIST_ITEMS\";\nexport const SET_LIST_LOADING = \"warehouses.SET_LIST_LOADING\";\nexport const SET_LIST_ERROR = \"warehouses.SET_LIST_ERROR\";\nexport const SET_LIST_PAGE = \"warehouses.SET_LIST_PAGE\";\nexport const SET_LIST_TOTAL_COUNT = \"warehouses.SET_LIST_TOTAL_COUNT\";","export const url = \"https://my-json-server.typicode.com/jexim/warehouses-mock-api-test\";","import axios from \"axios\";\nimport * as apiConfig from \"../config/api\";\n\nexport async function fetchWarehousesList({ page, limit, searchString = \"\" }) {\n  try {\n    const response = await axios.get(`${apiConfig.url}/warehouses?_page=${page}&_limit=${limit}&title_like=${searchString}`);\n\n    return {\n      items: response.data,\n      totalCount: response.headers[\"x-total-count\"]\n    };\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function fetchWarehousesListByProduct({ productId } = {}) {\n  try {\n    const response = await axios.get(`${apiConfig.url}/products/${productId}/warehousesProducts?_expand=warehouse`);\n\n    return response.data\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function createWarehouse({ title, productsDistributions }) {\n  try {\n    const productsQuantity = productsDistributions.reduce((sum, productDistributions) => sum + productDistributions.quantity, 0);\n    const response = await axios.post(`${apiConfig.url}/warehouses`, { title, productsQuantity });\n\n    for (let productsDistribution of productsDistributions) {\n      if (productsDistribution.quantity > 0) {\n        await axios.post(`${apiConfig.url}/warehousesProducts`, {\n          warehouseId: response.data.id,\n          productId: productsDistribution.product.id,\n          quantity: productsDistribution.quantity\n        });\n      }\n    }\n\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function editWarehouse({ id, title, productsDistributions, productsForDelete, productsForMove }) {\n  try {\n    const productsQuantity = productsDistributions.reduce((sum, productDistributions) => sum + productDistributions.quantity, 0);\n    const response = await axios.put(`${apiConfig.url}/warehouses/${id}`, { title, productsQuantity });\n\n    for (let productsDistribution of productsDistributions) {\n      if (productsDistribution.isNew && productsDistribution.quantity > 0) {\n        await axios.post(`${apiConfig.url}/warehousesProducts`, {\n          warehouseId: response.data.id,\n          productId: productsDistribution.product.id,\n          quantity: productsDistribution.quantity\n        });\n      } else {\n        if (productsDistribution.edited && !productsDistribution.isNew) {\n          if (productsDistribution.quantity > 0) {\n            await axios.put(`${apiConfig.url}/warehousesProducts/${productsDistribution.id}`, {\n              warehouseId: response.data.id,\n              productId: productsDistribution.product.id,\n              quantity: productsDistribution.quantity\n            });\n          } else {\n            await axios.delete(`${apiConfig.url}/warehousesProducts/${productsDistribution.id}`);\n          }\n        }\n      }\n    }\n\n    for (let productForMove of productsForMove) {\n      for (let warehouseDistributions of productForMove.warehousesDistributions) {\n        if (warehouseDistributions.quantity > 0) {\n          const responseWarehousesProducts = await axios.get(`${apiConfig.url}/warehousesProducts?productId=${productForMove.productDistributions.product.id}&warehouseId=${warehouseDistributions.warehouse.id}`);\n          \n          if (responseWarehousesProducts.data.length) {\n            await axios.put(`${apiConfig.url}/warehousesProducts/${responseWarehousesProducts.data[0].id}`, {\n              warehouseId: warehouseDistributions.warehouse.id,\n              productId: productForMove.productDistributions.product.id,\n              quantity: responseWarehousesProducts.data[0].quantity + warehouseDistributions.quantity\n            });\n          } else {\n            await axios.post(`${apiConfig.url}/warehousesProducts`, {\n              warehouseId: warehouseDistributions.warehouse.id,\n              productId: productForMove.productDistributions.product.id,\n              quantity: warehouseDistributions.quantity\n            });\n          }\n        }\n      }\n    }\n\n    for (const productForDelete of productsForDelete) {\n      await axios.delete(`${apiConfig.url}/warehousesProducts/${productForDelete.id}`);\n    }\n\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function removeWarehouse(warehouse) {\n  try {\n    const response = await axios.delete(`${apiConfig.url}/warehouses/${warehouse.id}`);\n\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n}\n","import axios from \"axios\";\nimport * as apiConfig from \"../config/api\";\n\nexport async function fetchAllProductsList({ page, limit, searchString=\"\" } = {}) {\n  try {\n    const response = await axios.get(`${apiConfig.url}/products?_page=${page}&_limit=${limit}&title_like=${searchString}`);\n\n    return { \n      items: response.data,\n      totalCount: response.headers[\"x-total-count\"]\n    };\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function fetchProductsListByWarehouse({ warehouseId } = {}) {\n  try {\n    const response = await axios.get(`${apiConfig.url}/warehouses/${warehouseId}/warehousesProducts?_expand=product`);\n\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function createProduct({ title, quantity, warehousesDistributions }) {\n  try {\n    const freeQuantity = quantity - warehousesDistributions.reduce((sum, warehouseDistributions) => sum + warehouseDistributions.quantity, 0);\n    const response = await axios.post(`${apiConfig.url}/products`, { title, quantity, freeQuantity });\n\n    for (let warehousesDistribution of warehousesDistributions) {\n      if (warehousesDistribution.quantity > 0) {\n        await axios.post(`${apiConfig.url}/warehousesProducts`, {\n          warehouseId: warehousesDistribution.warehouse.id,\n          productId: response.data.id,\n          quantity: warehousesDistribution.quantity\n        });\n      }\n    }\n\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function editProduct({ id, title, quantity, warehousesDistributions, warehousesForDelete }) {\n  try {\n    const freeQuantity = quantity - warehousesDistributions.reduce((sum, warehouseDistributions) => sum + warehouseDistributions.quantity, 0);\n    const response = await axios.put(`${apiConfig.url}/products/${id}`, { title, quantity, freeQuantity });\n\n    for (let warehousesDistribution of warehousesDistributions) {\n      if (warehousesDistribution.isNew && warehousesDistribution.quantity > 0) {\n        await axios.post(`${apiConfig.url}/warehousesProducts`, {\n          warehouseId: warehousesDistribution.warehouse.id,\n          productId: id,\n          quantity: warehousesDistribution.quantity\n        });\n      } else {\n        if (warehousesDistribution.edited && !warehousesDistribution.isNew) {\n          if (warehousesDistribution.quantity > 0) {\n            await axios.put(`${apiConfig.url}/warehousesProducts/${warehousesDistribution.id}`, {\n              warehouseId: warehousesDistribution.warehouse.id,\n              productId: id,\n              quantity: warehousesDistribution.quantity\n            });\n          } else {\n            await axios.delete(`${apiConfig.url}/warehousesProducts/${warehousesDistribution.id}`);\n          }\n        }\n      }\n    }\n\n    for (const warehouseForDelete of warehousesForDelete) {\n      await axios.delete(`${apiConfig.url}/warehousesProducts/${warehouseForDelete.id}`);\n    }\n\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function removeProduct(product) {\n  try {\n    const response = await axios.delete(`${apiConfig.url}/products/${product.id}`);\n\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n}\n","export const SET_SELECTED_ITEM = \"products.SET_SELECTED_ITEM\";\nexport const SET_SELECTED_LOADING = \"products.SET_SELECTED_LOADING\";\nexport const SET_SELECTED_ERROR = \"products.SET_SELECTED_ERROR\";\n\nexport const SET_SELECTED_WAREHOUSES_FOR_DELETE = \"products.SET_SELECTED_WAREHOUSES_FOR_DELETE\";\n\nexport const SET_SELECTED_WAREHOUSES_ITEMS = \"products.SET_SELECTED_WAREHOUSES_ITEMS\";\nexport const SET_SELECTED_WAREHOUSES_ERROR = \"products.SET_SELECTED_WAREHOUSES_ERROR\";\nexport const SET_SELECTED_WAREHOUSES_LOADING = \"products.SET_SELECTED_WAREHOUSES_LOADING\";\n\nexport const SET_LIST_ITEMS = \"products.SET_LIST_ITEMS\";\nexport const SET_LIST_LOADING = \"products.SET_LIST_LOADING\";\nexport const SET_LIST_ERROR = \"products.SET_LIST_ERROR\";\nexport const SET_LIST_PAGE = \"products.SET_LIST_PAGE\";\nexport const SET_LIST_TOTAL_COUNT = \"products.SET_LIST_TOTAL_COUNT\";","import uuid from \"uuid/v4\";\nimport * as types from \"./actionTypes\";\nimport * as productsApi from \"../../api/products\";\nimport * as warehousesApi from \"../../api/warehouses\";\nimport * as warehousesActions from \"../warehouses/actions\";\n\nexport function fetchProducts() {\n  return async (dispatch, getState) => {\n    try {\n      if (getState().products.list.pagination.loading || (getState().products.list.pagination.totalCount !== 0 && getState().products.list.pagination.totalCount <= getState().products.list.items.length)) return;\n\n      dispatch({ type: types.SET_LIST_ERROR, error: null });\n      dispatch({ type: types.SET_LIST_LOADING, loading: true });\n\n      const products = await productsApi.fetchAllProductsList({\n        page: getState().products.list.pagination.page,\n        limit: getState().products.list.pagination.limit\n      });\n\n      dispatch({ type: types.SET_LIST_ITEMS, items: [...getState().products.list.items, ...products.items] });\n      dispatch({ type: types.SET_LIST_PAGE, page: getState().products.list.pagination.page + 1 });\n      dispatch({ type: types.SET_LIST_TOTAL_COUNT, totalCount: products.totalCount });\n      dispatch({ type: types.SET_LIST_LOADING, loading: false });\n    } catch (error) {\n      dispatch({ type: types.SET_LIST_ERROR, error });\n      dispatch({ type: types.SET_LIST_LOADING, loading: false });\n    }\n  };\n}\n\nexport function fetchWarehousesBySelectedProduct() {\n  return async (dispatch, getState) => {\n    try {\n      const state = getState();\n\n      dispatch({ type: types.SET_SELECTED_WAREHOUSES_ERROR, error: null });\n      dispatch({ type: types.SET_SELECTED_WAREHOUSES_LOADING, loading: true });\n\n      const warehouses = await warehousesApi.fetchWarehousesListByProduct({ productId: state.products.selected.item.id });\n\n      dispatch({ type: types.SET_SELECTED_WAREHOUSES_ITEMS, items: [...state.products.selected.warehouses.items, ...warehouses] });\n      dispatch({ type: types.SET_SELECTED_WAREHOUSES_LOADING, loading: false });\n    } catch (error) {\n      dispatch({ type: types.SET_SELECTED_WAREHOUSES_ERROR, error });\n      dispatch({ type: types.SET_SELECTED_WAREHOUSES_LOADING, loading: false });\n    }\n  };\n}\n\nexport function clearProducts() {\n  return dispatch => {\n    dispatch({ type: types.SET_LIST_ITEMS, items: [] });\n    dispatch({ type: types.SET_SELECTED_WAREHOUSES_ITEMS, items: [] });\n  };\n}\n\nexport function clearSelectedProduct() {\n  return dispatch => {\n    dispatch({ type: types.SET_SELECTED_ITEM, product: {} });\n    dispatch({ type: types.SET_SELECTED_ERROR, error: null });\n    dispatch({ type: types.SET_SELECTED_LOADING, loading: false });\n    dispatch({ type: types.SET_SELECTED_WAREHOUSES_ITEMS, items: [] });\n    dispatch({ type: types.SET_SELECTED_WAREHOUSES_ERROR, error: null });\n    dispatch({ type: types.SET_SELECTED_WAREHOUSES_LOADING, loading: false });\n    dispatch({ type: types.SET_SELECTED_WAREHOUSES_FOR_DELETE, warehousesForDelete: [] });\n  };\n}\n\nexport function editProduct({ title, quantity }) {\n  return async (dispatch, getState) => {\n    const product = {};\n\n    if (title) product[\"title\"] = title;\n    if (quantity >= 0) {\n      product[\"quantity\"] = quantity;\n      product[\"freeQuantity\"] = quantity - getState().products.selected.warehouses.items.reduce((start, warehouse) => start + warehouse.quantity, 0);\n    }\n\n    dispatch({ type: types.SET_SELECTED_ITEM, product: { ...getState().products.selected.item, ...product } });\n  };\n}\n\nexport function saveProduct(withoutUpdateWarehouses) {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({ type: types.SET_SELECTED_ERROR, error: null });\n      dispatch({ type: types.SET_SELECTED_LOADING, loading: true });\n\n      if (getState().products.selected.warehouses.items.findIndex(warehouseItem => !warehouseItem.warehouse) !== -1) throw new Error(\"Not all warehouse are selected, check the fields\");\n\n      const id = getState().products.selected.item.id;\n      const items = getState().products.list.items;\n\n      let product;\n\n      if (id) {\n        const editProductIndexInArray = items.findIndex(item => item.id === id);\n\n        product = await productsApi.editProduct({\n          ...getState().products.selected.item,\n          warehousesDistributions: getState().products.selected.warehouses.items,\n          warehousesForDelete: getState().products.selected.warehousesForDelete\n        });\n\n        if (editProductIndexInArray !== -1) items[editProductIndexInArray] = product;\n      } else {\n        product = await productsApi.createProduct({\n          ...getState().products.selected.item,\n          warehousesDistributions: getState().products.selected.warehouses.items,\n          warehousesForDelete: getState().products.selected.warehousesForDelete\n        });\n\n        if (getState().products.list.pagination.totalCount === getState().products.list.items.length) {\n          items.push(product);\n          dispatch({ type: types.SET_LIST_TOTAL_COUNT, totalCount: getState().products.list.pagination.totalCount + 1 });\n        }\n      }\n\n      if (!withoutUpdateWarehouses) await dispatch(updateWarehouses(getState().products.selected.warehouses.items));\n\n      dispatch({ type: types.SET_LIST_ITEMS, items: [...items] });\n      dispatch({ type: types.SET_SELECTED_LOADING, loading: false });\n    } catch (error) {\n      dispatch({ type: types.SET_SELECTED_ERROR, error });\n      dispatch({ type: types.SET_SELECTED_LOADING, loading: false });\n    }\n  };\n}\n\nexport function removeProduct() {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({ type: types.SET_SELECTED_ERROR, error: null });\n      dispatch({ type: types.SET_SELECTED_LOADING, loading: true });\n\n      await productsApi.removeProduct(getState().products.selected.item);\n      await dispatch(updateWarehouses(getState().products.selected.warehouses.items));\n\n      dispatch({ type: types.SET_LIST_TOTAL_COUNT, totalCount: getState().products.list.pagination.totalCount - 1 });\n      dispatch({ type: types.SET_LIST_ITEMS, items: [...getState().products.list.items.filter(item => item.id !== getState().products.selected.item.id)] });\n      dispatch({ type: types.SET_SELECTED_LOADING, loading: false });\n    } catch (error) {\n      dispatch({ type: types.SET_SELECTED_ERROR, error });\n      dispatch({ type: types.SET_SELECTED_LOADING, loading: false });\n    }\n  };\n}\n\nexport function reloadProuduct(product) {\n  return async (dispatch, getState) => {\n    dispatch({ type: types.SET_SELECTED_ITEM, product });\n    await dispatch(fetchWarehousesBySelectedProduct());\n    await dispatch(saveProduct(true));\n    dispatch(clearSelectedProduct());\n  };\n}\n\nexport function addWarehouseForProduct() {\n  return async (dispatch, getState) => {\n    const productWarehouse = getState().products.selected.warehouses.items;\n\n    productWarehouse.push({\n      id: uuid(),\n      warehouse: null,\n      quantity: 0,\n      isNew: true\n    });\n\n    dispatch({\n      type: types.SET_SELECTED_WAREHOUSES_ITEMS,\n      items: [...productWarehouse]\n    });\n  };\n}\n\nexport function editWarehouseForProduct({ warehouseDistributions, warehouse, quantity }) {\n  return async (dispatch, getState) => {\n    const selectedProduct = getState().products.selected.item;\n\n    if (warehouse) {\n      if (!warehouseDistributions[\"firstWarehouse\"]) warehouseDistributions[\"firstWarehouse\"] = warehouseDistributions.warehouse;\n\n      warehouseDistributions.warehouse = warehouse;\n    }\n    if (quantity >= 0 && selectedProduct[\"freeQuantity\"] + warehouseDistributions.quantity >= quantity) {\n      warehouseDistributions.quantity = quantity;\n      selectedProduct[\"freeQuantity\"] = selectedProduct.quantity - getState().products.selected.warehouses.items.reduce((start, warehouse) => start + warehouse.quantity, 0);\n    }\n\n    warehouseDistributions[\"edited\"] = true;\n\n    dispatch({\n      type: types.SET_SELECTED_WAREHOUSES_ITEMS,\n      items: [...getState().products.selected.warehouses.items]\n    });\n    dispatch({\n      type: types.SET_SELECTED_ITEM,\n      product: { ...getState().products.selected.item }\n    });\n  };\n}\n\nexport function removeWarehouseFromProduct(warehouseDistributions) {\n  return async (dispatch, getState) => {\n    const productsWarehouse = getState().products.selected.warehouses.items;\n    const indexOfWarehouseDistributions = productsWarehouse.indexOf(warehouseDistributions);\n    const selectedProduct = getState().products.selected.item;\n\n    if (indexOfWarehouseDistributions === -1) return console.warn(\"No found warehouseDistributions for remove\");\n\n    selectedProduct[\"freeQuantity\"] += productsWarehouse[indexOfWarehouseDistributions].quantity;\n    productsWarehouse.splice(indexOfWarehouseDistributions, 1);\n\n    dispatch(addProductForDelete(warehouseDistributions));\n    dispatch({\n      type: types.SET_SELECTED_WAREHOUSES_ITEMS,\n      items: [...productsWarehouse]\n    });\n    dispatch({\n      type: types.SET_SELECTED_ITEM,\n      product: { ...getState().products.selected.item }\n    });\n  };\n}\n\nexport function addProductForDelete(warehouseDistributions) {\n  return async (dispatch, getState) => {\n    if (!warehouseDistributions.isNew) {\n      const warehousesForDelete = getState().products.selected.warehousesForDelete;\n\n      warehousesForDelete.push(warehouseDistributions);\n\n      dispatch({\n        type: types.SET_SELECTED_WAREHOUSES_FOR_DELETE,\n        warehousesForDelete: [...warehousesForDelete]\n      });\n    }\n  };\n}\n\nexport function updateWarehouses(warehousesDistributions) {\n  return async (dispatch, getState) => {\n    for (let warehouseDistributions of warehousesDistributions) {\n      if (warehouseDistributions.edited) {\n        await dispatch(warehousesActions.reloadWarehouse(warehouseDistributions.warehouse));\n\n        if (warehouseDistributions.firstWarehouse) await dispatch(warehousesActions.reloadWarehouse(warehouseDistributions.firstWarehouse));\n      }\n    }\n\n    for (let warehouseDistributions of getState().products.selected.warehousesForDelete) {\n      await dispatch(warehousesActions.reloadWarehouse(warehouseDistributions.warehouse));\n    }\n  };\n}\n","import uuid from \"uuid/v4\";\nimport * as types from \"./actionTypes\";\nimport * as warehousesApi from \"../../api/warehouses\";\nimport * as productsApi from \"../../api/products\";\nimport * as productsActions from \"../products/actions\";\n\nexport function fetchWarehouses() {\n  return async (dispatch, getState) => {\n    try {\n      if (getState().warehouses.list.pagination.loading || (getState().warehouses.list.pagination.totalCount !== 0 && getState().warehouses.list.pagination.totalCount <= getState().warehouses.list.items.length)) return;\n\n      dispatch({ type: types.SET_LIST_ERROR, error: null });\n      dispatch({ type: types.SET_LIST_LOADING, loading: true });\n\n      const warehouses = await warehousesApi.fetchWarehousesList({\n        page: getState().warehouses.list.pagination.page,\n        limit: getState().warehouses.list.pagination.limit\n      });\n\n      dispatch({ type: types.SET_LIST_ITEMS, items: [...getState().warehouses.list.items, ...warehouses.items] });\n      dispatch({ type: types.SET_LIST_PAGE, page: getState().warehouses.list.pagination.page + 1 });\n      dispatch({ type: types.SET_LIST_TOTAL_COUNT, totalCount: warehouses.totalCount });\n      dispatch({ type: types.SET_LIST_LOADING, loading: false });\n    } catch (error) {\n      dispatch({ type: types.SET_LIST_ERROR, error });\n      dispatch({ type: types.SET_LIST_LOADING, loading: false });\n    }\n  };\n}\n\nexport function fetchProductsBySelectedWarehouses() {\n  return async (dispatch, getState) => {\n    try {\n      const state = getState();\n\n      dispatch({ type: types.SET_SELECTED_PRODUCTS_ERROR, error: null });\n      dispatch({ type: types.SET_SELECTED_PRODUCTS_LOADING, loading: true });\n\n      const products = await productsApi.fetchProductsListByWarehouse({ warehouseId: state.warehouses.selected.item.id });\n\n      dispatch({ type: types.SET_SELECTED_PRODUCTS_ITEMS, items: [...state.warehouses.selected.products.items, ...products] });\n      dispatch({ type: types.SET_SELECTED_PRODUCTS_LOADING, loading: false });\n    } catch (error) {\n      dispatch({ type: types.SET_SELECTED_PRODUCTS_ERROR, error });\n      dispatch({ type: types.SET_SELECTED_PRODUCTS_LOADING, loading: false });\n    }\n  };\n}\n\nexport function clearSelectedWarehouse() {\n  return (dispatch, getState) => {\n    dispatch({ type: types.SET_SELECTED_ITEM, warehouse: null });\n    dispatch({ type: types.SET_SELECTED_ERROR, error: null });\n    dispatch({ type: types.SET_SELECTED_LOADING, loading: false });\n    dispatch({ type: types.SET_SELECTED_PRODUCTS_ITEMS, items: [] });\n    dispatch({ type: types.SET_SELECTED_PRODUCTS_ERROR, error: null });\n    dispatch({ type: types.SET_SELECTED_PRODUCTS_LOADING, loading: false });\n    dispatch({ type: types.SET_SELECTED_PRODUCTS_FOR_MOVE, productsForMove: [] });\n    dispatch({ type: types.SET_SELECTED_PRODUCTS_FOR_DELETE, productsForDelete: [] });\n  };\n}\n\nexport function createWarehouse({ title }) {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({ type: types.SET_SELECTED_ERROR, error: null });\n      dispatch({ type: types.SET_SELECTED_LOADING, loading: true });\n\n      const productsDistributions = getState().warehouses.selected.products.items;\n\n      if (productsDistributions.findIndex(productItem => !productItem.product) !== -1) throw new Error(\"Not all products are selected, check the fields\");\n\n      const newWarehouse = await warehousesApi.createWarehouse({ title, productsDistributions });\n\n      if (getState().warehouses.list.pagination.totalCount === getState().warehouses.list.items.length) {\n        dispatch({ type: types.SET_LIST_ITEMS, items: [...getState().warehouses.list.items, newWarehouse] });\n      }\n\n      await dispatch(updateProducts({ productsDistributions }));\n\n      dispatch({ type: types.SET_LIST_TOTAL_COUNT, totalCount: getState().warehouses.list.pagination.totalCount + 1 });\n      dispatch({ type: types.SET_SELECTED_LOADING, loading: false });\n    } catch (error) {\n      dispatch({ type: types.SET_SELECTED_ERROR, error });\n      dispatch({ type: types.SET_SELECTED_LOADING, loading: false });\n    }\n  };\n}\n\nexport function editWarehouse({ title }, withoutUpdateWarehouses) {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({ type: types.SET_SELECTED_ERROR, error: null });\n      dispatch({ type: types.SET_SELECTED_LOADING, loading: true });\n\n      if (getState().warehouses.selected.products.items.findIndex(productItem => !productItem.product) !== -1) throw new Error(\"Not all products are selected, check the fields\");\n\n      if (getState().warehouses.selected.productsForMove.findIndex(productForMove => productForMove.warehousesDistributions.findIndex(warehouseDistributions => !warehouseDistributions.warehouse) !== -1) !== -1)\n        throw new Error(\"Not all warehouses are selected, check the fields\");\n\n      const id = getState().warehouses.selected.item.id;\n      const items = getState().warehouses.list.items;\n      const productsDistributions = getState().warehouses.selected.products.items;\n      const productsForDelete = getState().warehouses.selected.productsForDelete;\n      const productsForMove = getState().warehouses.selected.productsForMove;\n      const editWarehouseIndexInArray = items.findIndex(item => item.id === id);\n      const warehouse = await warehousesApi.editWarehouse({\n        id,\n        title,\n        productsDistributions,\n        productsForDelete,\n        productsForMove\n      });\n\n      items[editWarehouseIndexInArray] = warehouse;\n\n      if (!withoutUpdateWarehouses) {\n        await dispatch(updateProducts({ productsDistributions, productsForDelete }));\n        await dispatch(updateWarehousesByMove({ productsForMove }));\n      }\n\n      dispatch({ type: types.SET_LIST_ITEMS, items: [...items] });\n      dispatch({ type: types.SET_SELECTED_LOADING, loading: false });\n    } catch (error) {\n      dispatch({ type: types.SET_SELECTED_ERROR, error });\n      dispatch({ type: types.SET_SELECTED_LOADING, loading: false });\n    }\n  };\n}\n\nexport function removeWarehouse() {\n  return async (dispatch, getState) => {\n    try {\n      dispatch({ type: types.SET_SELECTED_ERROR, error: null });\n      dispatch({ type: types.SET_SELECTED_LOADING, loading: true });\n\n      await warehousesApi.removeWarehouse(getState().warehouses.selected.item);\n\n      const productsDistributions = getState().warehouses.selected.products.items;\n      const productsForDelete = getState().warehouses.selected.productsForDelete;\n\n      await dispatch(updateProducts({ productsDistributions, productsForDelete }));\n\n      dispatch({ type: types.SET_LIST_TOTAL_COUNT, totalCount: getState().warehouses.list.pagination.totalCount - 1 });\n      dispatch({ type: types.SET_LIST_ITEMS, items: [...getState().warehouses.list.items.filter(item => item.id !== getState().warehouses.selected.item.id)] });\n      dispatch({ type: types.SET_SELECTED_LOADING, loading: false });\n    } catch (error) {\n      dispatch({ type: types.SET_SELECTED_ERROR, error });\n      dispatch({ type: types.SET_SELECTED_LOADING, loading: false });\n    }\n  };\n}\n\nexport function reloadWarehouse(warehouse) {\n  return async (dispatch, getState) => {\n    dispatch({ type: types.SET_SELECTED_ITEM, warehouse });\n    await dispatch(fetchProductsBySelectedWarehouses());\n    await dispatch(editWarehouse({ title: warehouse.title }, true));\n    dispatch(clearSelectedWarehouse());\n  };\n}\n\nexport function addProductForMove(productDistributions) {\n  return async (dispatch, getState) => {\n    const productsForMove = getState().warehouses.selected.productsForMove;\n    const indexOfProductDistributions = productsForMove.findIndex(productForMove => productForMove.productDistributions === productDistributions);\n    const newWarehouseDistributions = {\n      id: uuid(),\n      warehouse: null,\n      quantity: 0,\n      productDistributions\n    };\n\n    if (indexOfProductDistributions === -1) {\n      productsForMove.push({\n        id: uuid(),\n        productDistributions,\n        warehousesDistributions: [newWarehouseDistributions]\n      });\n    } else {\n      if (Array.isArray(productsForMove[indexOfProductDistributions].warehousesDistributions)) {\n        productsForMove[indexOfProductDistributions].warehousesDistributions = [...productsForMove[indexOfProductDistributions].warehousesDistributions, newWarehouseDistributions];\n      } else {\n        productsForMove[indexOfProductDistributions].warehousesDistributions = [newWarehouseDistributions];\n      }\n    }\n\n    productDistributions.quantity -= newWarehouseDistributions.quantity;\n    productDistributions[\"edited\"] = true;\n\n    dispatch(calcProductForMoveQuantity(newWarehouseDistributions));\n    dispatch({\n      type: types.SET_SELECTED_PRODUCTS_FOR_MOVE,\n      productsForMove: [...productsForMove]\n    });\n    dispatch({\n      type: types.SET_SELECTED_PRODUCTS_ITEMS,\n      items: [...getState().warehouses.selected.products.items]\n    });\n  };\n}\n\nexport function editProductForMove({ warehouseDistributions, warehouse, quantity }) {\n  return async (dispatch, getState) => {\n    const productsForMove = getState().warehouses.selected.productsForMove;\n    const indexOfProductDistributions = productsForMove.findIndex(productForMove => productForMove.productDistributions === warehouseDistributions.productDistributions);\n\n    if (warehouse) warehouseDistributions.warehouse = warehouse;\n    if (quantity >= 0) {\n      if (warehouseDistributions.productDistributions.quantity + warehouseDistributions.quantity - quantity >= 0) {\n        warehouseDistributions.productDistributions.quantity -= quantity - warehouseDistributions.quantity;\n        warehouseDistributions.quantity = quantity;\n      }\n\n      warehouseDistributions.productDistributions[\"moveQuantity\"] = productsForMove[indexOfProductDistributions].warehousesDistributions.reduce((sum, productForMove) => sum + productForMove.quantity, 0);\n    }\n\n    productsForMove[indexOfProductDistributions].warehousesDistributions = [...productsForMove[indexOfProductDistributions].warehousesDistributions];\n\n    dispatch({\n      type: types.SET_SELECTED_PRODUCTS_FOR_MOVE,\n      productsForMove: [...getState().warehouses.selected.productsForMove]\n    });\n    dispatch({\n      type: types.SET_SELECTED_PRODUCTS_ITEMS,\n      items: [...getState().warehouses.selected.products.items]\n    });\n  };\n}\n\nexport function removeProductFromMove(warehouseDistributions) {\n  return async (dispatch, getState) => {\n    const productsForMove = getState().warehouses.selected.productsForMove;\n    const indexOfProductDistributions = productsForMove.findIndex(productForMove => productForMove.productDistributions === warehouseDistributions.productDistributions);\n\n    if (indexOfProductDistributions === -1) return console.warn(\"No found productDistributions for remove\");\n\n    const indexOfWarehousesDistributions = productsForMove[indexOfProductDistributions].warehousesDistributions.indexOf(warehouseDistributions);\n\n    if (indexOfWarehousesDistributions === -1) return console.warn(\"No found warehousesDistributions for remove\");\n\n    productsForMove[indexOfProductDistributions].warehousesDistributions.splice(indexOfWarehousesDistributions, 1);\n    productsForMove[indexOfProductDistributions].warehousesDistributions = [...productsForMove[indexOfProductDistributions].warehousesDistributions];\n    warehouseDistributions.productDistributions.quantity += warehouseDistributions.quantity;\n\n    dispatch(calcProductForMoveQuantity(warehouseDistributions));\n    dispatch({\n      type: types.SET_SELECTED_PRODUCTS_FOR_MOVE,\n      productsForMove: [...productsForMove]\n    });\n    dispatch({\n      type: types.SET_SELECTED_PRODUCTS_ITEMS,\n      items: [...getState().warehouses.selected.products.items]\n    });\n  };\n}\n\nexport function calcProductForMoveQuantity(warehouseDistributions) {\n  return async (dispatch, getState) => {\n    const productsForMove = getState().warehouses.selected.productsForMove;\n    const indexOfProductDistributions = productsForMove.findIndex(productForMove => productForMove.productDistributions === warehouseDistributions.productDistributions);\n\n    warehouseDistributions.productDistributions[\"moveQuantity\"] = productsForMove[indexOfProductDistributions].warehousesDistributions.reduce((sum, productForMove) => sum + productForMove.quantity, 0);\n    productsForMove[indexOfProductDistributions].warehousesDistributions = [...productsForMove[indexOfProductDistributions].warehousesDistributions];\n\n    dispatch({\n      type: types.SET_SELECTED_PRODUCTS_FOR_MOVE,\n      productsForMove: [...getState().warehouses.selected.productsForMove]\n    });\n  };\n}\n\nexport function removeProductDistributionsFromMove(productDistributions) {\n  return async (dispatch, getState) => {\n    const productsForMove = getState().warehouses.selected.productsForMove;\n    const indexOfProductDistributions = productsForMove.findIndex(productForMove => productForMove.productDistributions === productDistributions);\n\n    productDistributions[\"moveQuantity\"] = 0;\n\n    if (indexOfProductDistributions !== -1) {\n      productDistributions.quantity += getState().warehouses.selected.productsForMove[indexOfProductDistributions].warehousesDistributions.reduce(\n        (sum, warehouseDistributions) => sum + warehouseDistributions.quantity,\n        0\n      );\n      productsForMove.splice(indexOfProductDistributions, 1);\n    }\n\n    dispatch({\n      type: types.SET_SELECTED_PRODUCTS_FOR_MOVE,\n      productsForMove: [...productsForMove]\n    });\n  };\n}\n\nexport function addProductForWarehouse() {\n  return async (dispatch, getState) => {\n    const warehouseProducts = getState().warehouses.selected.products.items;\n\n    warehouseProducts.push({\n      id: uuid(),\n      product: null,\n      quantity: 0,\n      isNew: true\n    });\n\n    dispatch({\n      type: types.SET_SELECTED_PRODUCTS_ITEMS,\n      items: [...warehouseProducts]\n    });\n  };\n}\n\nexport function editProductForWarehouse({ productDistributions, product, quantity }) {\n  return async (dispatch, getState) => {\n    if (product) {\n      if (!productDistributions[\"firstProduct\"]) productDistributions[\"firstProduct\"] = productDistributions.product;\n\n      productDistributions.product = product;\n    }\n    if (quantity >= 0 && productDistributions.product.freeQuantity + productDistributions.quantity - quantity >= 0) {\n      productDistributions.product.freeQuantity -= quantity - productDistributions.quantity;\n      productDistributions.quantity = quantity;\n    }\n\n    productDistributions[\"edited\"] = true;\n\n    dispatch({\n      type: types.SET_SELECTED_PRODUCTS_ITEMS,\n      items: [...getState().warehouses.selected.products.items]\n    });\n  };\n}\n\nexport function removeProductFromWarehouse(productDistributions) {\n  return async (dispatch, getState) => {\n    const warehouseProducts = getState().warehouses.selected.products.items;\n    const indexOfProductDistributions = warehouseProducts.indexOf(productDistributions);\n\n    if (indexOfProductDistributions === -1) return console.warn(\"No found productDistributions for remove\");\n\n    warehouseProducts.splice(indexOfProductDistributions, 1);\n\n    dispatch(addProductForDelete(productDistributions));\n    dispatch({\n      type: types.SET_SELECTED_PRODUCTS_ITEMS,\n      items: [...warehouseProducts]\n    });\n  };\n}\n\nexport function addProductForDelete(productDistributions) {\n  return async (dispatch, getState) => {\n    if (!productDistributions.isNew) {\n      const productsForDelete = getState().warehouses.selected.productsForDelete;\n\n      productsForDelete.push(productDistributions);\n\n      dispatch({\n        type: types.SET_SELECTED_PRODUCTS_FOR_DELETE,\n        productsForDelete: [...productsForDelete]\n      });\n    }\n  };\n}\n\nexport function updateProducts({ productsDistributions, productsForDelete = [] }) {\n  return async dispatch => {\n    for (let productDistributions of productsDistributions) {\n      if (productDistributions.edited) {\n        await dispatch(productsActions.reloadProuduct(productDistributions.product));\n\n        if (productDistributions.firstProduct) await dispatch(productsActions.reloadProuduct(productDistributions.firstProduct));\n      }\n    }\n\n    for (let productDistributions of productsForDelete) {\n      await dispatch(productsActions.reloadProuduct(productDistributions.product));\n    }\n  };\n}\n\nexport function updateWarehousesByMove({ productsForMove }) {\n  return async (dispatch, getState) => {\n    const items = getState().warehouses.list.items;\n\n    for (const productForMove of productsForMove) {\n      for (const warehouseDistributions of productForMove.warehousesDistributions) {\n        const indexOfEditedWarehouse = items.findIndex(warehouseItem => warehouseItem.id === warehouseDistributions.warehouse.id);\n\n        if (indexOfEditedWarehouse !== -1) {\n          items[indexOfEditedWarehouse].productsQuantity += warehouseDistributions.quantity;\n        }\n      }\n    }\n\n    dispatch({ type: types.SET_LIST_ITEMS, items: [...items] });\n  };\n}\n","import React from \"react\";\nimport \"./loader.scss\";\n\nexport default function Loader({ full }) {\n  return (\n    <div className=\"loader-container\" style={full && { position: \"absolute\" }}>\n      <div className=\"lds-hourglass\"></div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport AsyncSelect from \"react-select-async-paginate\";\n\nexport default function SelectElement(props) {\n  return (\n    <div style={{ position: \"relative\" }}>\n      <AsyncSelect {...props} />\n      {!!props.disabled && <div style={{ backgroundColor: \"rgba(0,0,0,0.05)\", position: \"absolute\", top: 0, bottom: 0, left: 0, right: 0, borderRadius: 3 }}></div>}\n    </div>\n  );\n}\n","import React, { Component } from \"react\";\nimport { Form, Col, Button } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\n\nimport SelectElement from \"./SelectElement\";\nimport * as warehousesActions from \"../store/warehouses/actions\";\nimport * as warehousesApi from \"../api/warehouses\";\n\nclass ProductsMoveElement extends Component {\n  state = {\n    warehousesSelectPagination: {\n      page: 1,\n      limit: 10,\n      totalCount: 0,\n      count: 0,\n      loading: false,\n      searchString: \"\"\n    }\n  };\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.warehousesDistributions !== this.props.warehousesDistributions) {\n      this.resetOptions();\n    }\n  }\n\n  onChangeWarehouse(warehouseOption) {\n    this.props.dispatch(warehousesActions.editProductForMove({ warehouseDistributions: this.props.productForMoveItem, warehouse: warehouseOption.value }));\n  }\n\n  onChangeQuantity(quantity) {\n    this.props.dispatch(warehousesActions.editProductForMove({ warehouseDistributions: this.props.productForMoveItem, quantity }));\n  }\n\n  onClickRemove() {\n    this.props.dispatch(warehousesActions.removeProductFromMove(this.props.productForMoveItem));\n  }\n\n  async loadOptions(searchString) {\n    if (this.state.warehousesSelectPagination.loading) return;\n\n    this.setState({ warehousesSelectPagination: { ...this.state.warehousesSelectPagination, loading: true } });\n\n    if (searchString !== this.state.warehousesSelectPagination.searchString) {\n      this.resetOptions();\n    }\n\n    const warehouses = await warehousesApi.fetchWarehousesList({\n      searchString,\n      page: this.state.warehousesSelectPagination.page,\n      limit: this.state.warehousesSelectPagination.limit\n    });\n\n    this.setState({\n      warehousesSelectPagination: {\n        ...this.state.warehousesSelectPagination,\n        totalCount: warehouses.totalCount,\n        count: this.state.warehousesSelectPagination.count + warehouses.items.length,\n        page: this.state.warehousesSelectPagination.page + 1,\n        loading: false,\n        searchString\n      }\n    });\n\n    return {\n      options: warehouses.items.map(item => ({ value: item, label: item.title })),\n      hasMore: this.state.warehousesSelectPagination.totalCount !== 0 && this.state.warehousesSelectPagination.totalCount > this.state.warehousesSelectPagination.count\n    };\n  }\n\n  filterOptionsBySelected(options) {\n    return options.filter(option => {\n      if (this.props.selectedWarehouse.id === option.value.id) return false;\n\n      return !this.props.warehousesDistributions.find(warehouseDistributions => {\n        if (!warehouseDistributions.warehouse) return false;\n\n        return warehouseDistributions.warehouse.id === option.value.id;\n      });\n    });\n  }\n\n  reduceOptions(prevOptions, loadedOptions) {\n    return [...prevOptions, ...this.filterOptionsBySelected(loadedOptions)];\n  }\n\n  resetOptions() {\n    this.setState({ warehousesSelectPagination: { ...this.state.warehousesSelectPagination, cacheVersion: this.state.warehousesSelectPagination.cacheVersion + 1, page: 1, totalCount: 0, count: 0 } });\n  }\n\n  render() {\n    return (\n      <Form.Row className=\"py-3 mb-3\" style={{ backgroundColor: \"#ddd\", borderRadius: 3 }}>\n        <Col>\n          <SelectElement\n            cacheUniq={this.props.warehousesDistributions}\n            reduceOptions={(prevOptions, loadedOptions) => this.reduceOptions(prevOptions, loadedOptions)}\n            loadOptions={searchString => this.loadOptions(searchString)}\n            onChange={e => this.onChangeWarehouse(e)}\n          />\n        </Col>\n        <Col>\n          <Form.Control\n            required\n            placeholder=\"Quantity\"\n            type=\"number\"\n            min={0}\n            value={this.props.productForMoveItem.quantity}\n            disabled={!this.props.productForMoveItem.warehouse}\n            onChange={e => this.onChangeQuantity(+e.target.value)}\n          />\n        </Col>\n        <Col>\n          <Button block variant=\"danger\" onClick={() => this.onClickRemove()} style={{ width: 160 }}>\n            Remove\n          </Button>\n        </Col>\n      </Form.Row>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    selectedWarehouse: state.warehouses.selected.item\n  };\n}\n\nexport default connect(mapStateToProps)(ProductsMoveElement);\n","import * as actionTypes from \"./actionTypes\";\n\nconst initialState = {\n  selected: {\n    item: null,\n    products: {\n      items: [],\n      error: null,\n      loading: false\n    },\n    error: null,\n    loading: false,\n    productsForDelete: [],\n    productsForMove: []\n  },\n  list: {\n    items: [],\n    error: null,\n    loading: false,\n    pagination: {\n      page: 1,\n      limit: 20,\n      totalCount: 0\n    }\n  }\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_SELECTED_ITEM:\n      return {\n        ...state,\n        selected: {\n          ...state.selected,\n          item: action.warehouse\n        }\n      };\n    case actionTypes.SET_SELECTED_PRODUCTS_FOR_MOVE:\n      return {\n        ...state,\n        selected: {\n          ...state.selected,\n          productsForMove: action.productsForMove\n        }\n      };\n    case actionTypes.SET_SELECTED_PRODUCTS_FOR_DELETE:\n      return {\n        ...state,\n        selected: {\n          ...state.selected,\n          productsForDelete: action.productsForDelete\n        }\n      };\n    case actionTypes.SET_SELECTED_LOADING:\n      return {\n        ...state,\n        selected: {\n          ...state.selected,\n          loading: action.loading\n        }\n      };\n    case actionTypes.SET_SELECTED_ERROR:\n      return {\n        ...state,\n        selected: {\n          ...state.selected,\n          error: action.error\n        }\n      };\n    case actionTypes.SET_SELECTED_PRODUCTS_ITEMS:\n      return {\n        ...state,\n        selected: {\n          ...state.selected,\n          products: {\n            ...state.selected.products,\n            items: action.items\n          }\n        }\n      };\n    case actionTypes.SET_SELECTED_PRODUCTS_ERROR:\n      return {\n        ...state,\n        selected: {\n          ...state.selected,\n          products: {\n            ...state.selected.products,\n            error: action.error\n          }\n        }\n      };\n    case actionTypes.SET_SELECTED_PRODUCTS_LOADING:\n      return {\n        ...state,\n        selected: {\n          ...state.selected,\n          products: {\n            ...state.selected.products,\n            loading: action.loading\n          }\n        }\n      };\n    case actionTypes.SET_LIST_ITEMS:\n      return {\n        ...state,\n        list: {\n          ...state.list,\n          items: action.items\n        }\n      };\n    case actionTypes.SET_LIST_PAGE:\n      return {\n        ...state,\n        list: {\n          ...state.list,\n          pagination: {\n            ...state.list.pagination,\n            page: action.page\n          }\n        }\n      };\n    case actionTypes.SET_LIST_TOTAL_COUNT:\n      return {\n        ...state,\n        list: {\n          ...state.list,\n          pagination: {\n            ...state.list.pagination,\n            totalCount: +action.totalCount\n          }\n        }\n      };\n    case actionTypes.SET_LIST_LOADING:\n      return {\n        ...state,\n        list: {\n          ...state.list,\n          loading: action.loading\n        }\n      };\n    case actionTypes.SET_LIST_ERROR:\n      return {\n        ...state,\n        list: {\n          ...state.list,\n          error: action.error\n        }\n      };\n\n    default: {\n      return state;\n    }\n  }\n};\n\nexport function getWarehousesDistributionsByProductDistributions(store, productDistributions) {\n  const indexOfProductDistributions = store.warehouses.selected.productsForMove.findIndex(productForMove => productForMove.productDistributions === productDistributions);\n\n  if (indexOfProductDistributions !== -1) \n    return store.warehouses.selected.productsForMove[indexOfProductDistributions].warehousesDistributions;\n  else \n    return [];\n}","import React, { Component } from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport ProductsMoveElement from \"./ProductsMoveElement\";\nimport * as warehousesActions from \"../store/warehouses/actions\";\nimport * as warehousesSelectors from \"../store/warehouses/reducer\";\n\nclass ProductsMoveList extends Component {\n  onClickAddProductsMove() {\n    this.props.dispatch(warehousesActions.addProductForMove(this.props.productDistributions));\n  }\n\n  render() {\n    return (\n      <>\n        <div style={{ position: \"relative\" }}>\n          {this.props.warehousesDistributions.map(item => (\n            <ProductsMoveElement key={item.id} productForMoveItem={item} warehousesDistributions={this.props.warehousesDistributions} />\n          ))}\n        </div>\n        {!this.props.productDistributions.quantity <= 0 && (\n          <Button block onClick={() => this.onClickAddProductsMove()}>\n            Add new move\n          </Button>\n        )}\n      </>\n    );\n  }\n}\n\nfunction mapStateToProps(state, ownProps) {\n  return {\n    warehousesDistributions: warehousesSelectors.getWarehousesDistributionsByProductDistributions(state, ownProps.productDistributions),\n    productsForMove: state.warehouses.selected.productsForMove\n  };\n}\n\nexport default connect(mapStateToProps)(ProductsMoveList);\n","import React, { Component } from \"react\";\nimport { Form, Col, Button, ButtonGroup, InputGroup, FormControl } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\n\nimport SelectElement from \"./SelectElement\";\nimport * as productsApi from \"../api/products\";\nimport * as warehousesActions from \"../store/warehouses/actions\";\nimport ProductsMoveList from \"./ProductsMoveList\";\n\nclass ProductsDistributionElement extends Component {\n  state = {\n    productsSelectPagination: {\n      page: 1,\n      limit: 10,\n      totalCount: 0,\n      count: 0,\n      loading: false,\n      searchString: \"\"\n    },\n    showMove: false\n  };\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.productsDistributions !== this.props.productsDistributions) {\n      this.resetOptions();\n    }\n  }\n\n  onChangeProduct(productOption) {\n    this.props.dispatch(warehousesActions.editProductForWarehouse({ productDistributions: this.props.productDistributions, product: productOption.value }));\n  }\n\n  onChangeQuantity(quantity) {\n    this.props.dispatch(warehousesActions.editProductForWarehouse({ productDistributions: this.props.productDistributions, quantity }));\n  }\n\n  async loadOptions(searchString) {\n    if (this.state.productsSelectPagination.loading) return;\n\n    this.setState({ productsSelectPagination: { ...this.state.productsSelectPagination, loading: true } });\n\n    if (searchString !== this.state.productsSelectPagination.searchString) {\n      this.resetOptions();\n    }\n\n    const products = await productsApi.fetchAllProductsList({\n      searchString,\n      page: this.state.productsSelectPagination.page,\n      limit: this.state.productsSelectPagination.limit\n    });\n\n    this.setState({\n      productsSelectPagination: {\n        ...this.state.productsSelectPagination,\n        totalCount: products.totalCount,\n        count: this.state.productsSelectPagination.count + products.items.length,\n        page: this.state.productsSelectPagination.page + 1,\n        loading: false,\n        searchString\n      }\n    });\n\n    return {\n      options: products.items.map(item => ({ value: item, label: item.title })),\n      hasMore: this.state.productsSelectPagination.totalCount !== 0 && this.state.productsSelectPagination.totalCount > this.state.productsSelectPagination.count\n    };\n  }\n\n  filterOptionsBySelected(options) {\n    return options.filter(option => {\n      return !this.props.productsDistributions.find(selectedProduct => {\n        if (!selectedProduct.product) return false;\n        return selectedProduct.product.id === option.value.id;\n      });\n    });\n  }\n\n  reduceSelectOptions(prevOptions, loadedOptions) {\n    return [...prevOptions, ...this.filterOptionsBySelected(loadedOptions)];\n  }\n\n  resetOptions() {\n    this.setState({ productsSelectPagination: { ...this.state.productsSelectPagination, cacheVersion: this.state.productsSelectPagination.cacheVersion + 1, page: 1, totalCount: 0, count: 0 } });\n  }\n\n  onClickRemove() {\n    this.props.dispatch(warehousesActions.removeProductDistributionsFromMove(this.props.productDistributions));\n    this.props.dispatch(warehousesActions.removeProductFromWarehouse(this.props.productDistributions));\n  }\n\n  onClickMove() {\n    if (this.state.showMove) this.props.dispatch(warehousesActions.removeProductDistributionsFromMove(this.props.productDistributions));\n\n    this.setState({ showMove: !this.state.showMove });\n  }\n\n  render() {\n    return (\n      <>\n        <Form.Row className=\"my-3\">\n          <Col>\n            <SelectElement\n              disabled={this.state.showMove || this.props.onlyMove || !this.props.productDistributions.isNew}\n              cacheUniq={this.props.productsDistributions}\n              reduceOptions={(prevOptions, loadedOptions) => this.reduceSelectOptions(prevOptions, loadedOptions)}\n              loadOptions={searchString => this.loadOptions(searchString)}\n              onChange={e => this.onChangeProduct(e)}\n              value={\n                this.props.productDistributions.product && {\n                  label: this.props.productDistributions.product.title,\n                  value: this.props.productDistributions.product\n                }\n              }\n            />\n          </Col>\n          <Col>\n            <InputGroup className=\"mb-3\">\n              <FormControl\n                placeholder=\"Quantity\"\n                type=\"number\"\n                min={0}\n                value={this.props.productDistributions.quantity}\n                disabled={this.state.showMove || this.props.onlyMove || !this.props.productDistributions.product}\n                onChange={e => this.onChangeQuantity(+e.target.value)}\n                aria-describedby=\"free-quantity\"\n              />\n              {this.props.productDistributions.product && (\n                <InputGroup.Append>\n                  <InputGroup.Text id=\"free-quantity\">\n                    {this.props.productDistributions.product.freeQuantity}\n                  </InputGroup.Text>\n                </InputGroup.Append>\n              )}\n            </InputGroup>\n          </Col>\n          <Col>\n            <ButtonGroup style={{ width: 160 }}>\n              {!this.props.onlyMove && (\n                <Button variant=\"danger\" onClick={() => this.onClickRemove()}>\n                  Remove\n                </Button>\n              )}\n              {this.props.selectedWarehouse && !this.props.productDistributions.isNew && (\n                <Button variant=\"info\" onClick={() => this.onClickMove()} active={this.state.showMove}>\n                  Move\n                </Button>\n              )}\n            </ButtonGroup>\n          </Col>\n        </Form.Row>\n        {this.state.showMove && <ProductsMoveList productDistributions={this.props.productDistributions} />}\n      </>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    selectedWarehouse: state.warehouses.selected.item,\n    productsDistributions: state.warehouses.selected.products.items\n  };\n}\n\nexport default connect(mapStateToProps)(ProductsDistributionElement);\n","import React, { Component } from \"react\";\nimport { Button, Alert } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\n\nimport ProductsDistributionElement from \"./ProductsDistributionElement\";\nimport * as warehousesActions from \"../store/warehouses/actions\";\nimport Loader from \"./Loader\";\n\nclass ProductsDistributionList extends Component {\n  onClickAddProductDistribution() {\n    this.props.dispatch(warehousesActions.addProductForWarehouse());\n  }\n\n  render() {\n    return (\n      <>\n        <h4>List of owned products</h4>\n        {!!this.props.selectedWarehouseError && <Alert variant=\"danger\">{this.props.selectedWarehouseError.message}</Alert>}\n        <div>\n          {this.props.selectedWarehouseProducts.map(item => (\n            <ProductsDistributionElement key={item.id} productDistributions={item} onlyMove={this.props.onlyMove} />\n          ))}\n          {this.props.selectedWarehouseLoading && <Loader />}\n        </div>\n        {!this.props.selectedWarehouseLoading && !this.props.onlyMove && (\n          <Button block className=\"mt-3\" onClick={() => this.onClickAddProductDistribution()}>\n            Add product\n          </Button>\n        )}\n      </>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    selectedWarehouseProducts: state.warehouses.selected.products.items,\n    selectedWarehouseLoading: state.warehouses.selected.products.loading,\n    selectedWarehouseError: state.warehouses.selected.products.error\n  };\n}\n\nexport default connect(mapStateToProps)(ProductsDistributionList);\n","import React, { Component } from \"react\";\nimport { Modal, Button, Form, Alert } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport Loader from \"./Loader\";\nimport * as warehousesActions from \"../store/warehouses/actions\";\nimport ProductsDistributionList from \"./ProductsDistributionList\";\n\nclass WarehouseModal extends Component {\n  state = {\n    title: \"\",\n    showBeforeRemoveModal: false,\n    showMoveBeforeRemoveModal: false\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.selectedWarehouse !== prevProps.selectedWarehouse) {\n      if (this.props.selectedWarehouse) {\n        this.setState({ ...this.props.selectedWarehouse });\n      } else {\n        this.setState({ title: \"\" });\n      }\n    }\n  }\n\n  async onClickWarehouseSave(event) {\n    event.preventDefault();\n\n    if (this.props.selectedWarehouse) {\n      await this.props.dispatch(warehousesActions.editWarehouse({ ...this.state }));\n    } else {\n      await this.props.dispatch(warehousesActions.createWarehouse({ ...this.state }));\n    }\n\n    if (!this.props.selectedError) this.onWarehouseClose();\n  }\n\n  onWarehouseClose() {\n    this.setState({ id: null, title: \"\", quantity: 0, showBeforeRemoveModal: false, showMoveBeforeRemoveModal: false });\n    this.props.dispatch(warehousesActions.clearSelectedWarehouse());\n    this.props.onClose();\n  }\n\n  featchWarehouseProducts() {\n    if (this.props.selectedWarehouse) {\n      this.props.dispatch(warehousesActions.fetchProductsBySelectedWarehouses());\n    }\n  }\n\n  async onClickRemoveWarehouse() {\n    await this.props.dispatch(warehousesActions.removeWarehouse());\n\n    if (!this.props.selectedError) this.onWarehouseClose();\n  }\n\n  async onClickRemoveWarehouseWithMove() {\n    await this.props.dispatch(warehousesActions.editWarehouse({ ...this.state }));\n    this.onClickRemoveWarehouse();\n  }\n\n  onShowBeforeRemoveModal() {\n    this.props.onClose();\n    this.setState({ showBeforeRemoveModal: true });\n  }\n\n  onShowMoveBeforeRemoveModal() {\n    this.setState({ showBeforeRemoveModal: false, showMoveBeforeRemoveModal: true });\n  }\n\n  render() {\n    return (\n      <>\n        <Modal show={this.props.show} onHide={() => this.onWarehouseClose()} onShow={() => this.featchWarehouseProducts()}>\n          <Form onSubmit={event => this.onClickWarehouseSave(event)}>\n            <Modal.Header closeButton>\n              <Modal.Title>Warehouse information</Modal.Title>\n            </Modal.Header>\n            <Modal.Body style={{ position: \"relative\" }}>\n              {this.props.selectedLoading && <Loader full />}\n              {!!this.props.selectedError && <Alert variant=\"danger\">{this.props.selectedError.message}</Alert>}\n              <Form.Group>\n                <Form.Label>Warehouse title</Form.Label>\n                <Form.Control type=\"text\" placeholder=\"Enter warehouse title\" required value={this.state.title} onChange={e => this.setState({ title: e.target.value })} />\n              </Form.Group>\n              <ProductsDistributionList />\n            </Modal.Body>\n            <Modal.Footer>\n              <Button variant=\"secondary\" onClick={() => this.onWarehouseClose()}>\n                Close\n              </Button>\n              {this.state.id && (\n                <Button variant=\"danger\" onClick={() => this.onShowBeforeRemoveModal()}>\n                  Remove\n                </Button>\n              )}\n              <Button variant=\"primary\" type=\"submit\">\n                Save Changes\n              </Button>\n            </Modal.Footer>\n          </Form>\n        </Modal>\n        <Modal show={this.state.showBeforeRemoveModal} onHide={() => this.onWarehouseClose()}>\n          <Modal.Header closeButton>\n            <Modal.Title>Question</Modal.Title>\n          </Modal.Header>\n          <Modal.Body style={{ position: \"relative\" }}>Are you want to remove the warehouse?</Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={() => this.onWarehouseClose()}>\n              Close\n            </Button>\n            {!!this.props.selectedWarehouseProducts.length && (\n              <Button variant=\"primary\" onClick={() => this.onShowMoveBeforeRemoveModal()}>\n                Move product before remove\n              </Button>\n            )}\n            <Button variant=\"danger\" onClick={() => this.onClickRemoveWarehouse()}>\n              Yes, remove\n            </Button>\n          </Modal.Footer>\n        </Modal>\n        <Modal show={this.state.showMoveBeforeRemoveModal} onHide={() => this.onWarehouseClose()}>\n          <Modal.Header closeButton>\n            <Modal.Title>Move products for another warehouses</Modal.Title>\n          </Modal.Header>\n          <Modal.Body style={{ position: \"relative\" }}>\n            <ProductsDistributionList onlyMove />\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={() => this.onWarehouseClose()}>\n              Close\n            </Button>\n            <Button variant=\"danger\" onClick={() => this.onClickRemoveWarehouseWithMove()}>\n              Move and remove\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    selectedWarehouseProducts: state.warehouses.selected.products.items,\n    selectedWarehouse: state.warehouses.selected.item,\n    selectedLoading: state.warehouses.selected.loading,\n    selectedError: state.warehouses.selected.error\n  };\n}\n\nexport default connect(mapStateToProps)(WarehouseModal);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Alert, Button, Table } from \"react-bootstrap\";\nimport * as wrehousesAction from \"../store/warehouses/actions\";\nimport * as wrehousesActionTypes from \"../store/warehouses/actionTypes\";\nimport Loader from \"./Loader\";\nimport WarehouseModal from \"./WarehouseModal\";\n\nclass WarehousesList extends Component {\n  state = {\n    showWarehouseModal: false\n  };\n\n  componentDidMount() {\n    this.feachMoreWarehouses();\n  }\n\n  feachMoreWarehouses() {\n    this.props.dispatch(wrehousesAction.fetchWarehouses());\n  }\n\n  onClickWarehouse(warehouse) {\n    this.props.dispatch({ type: wrehousesActionTypes.SET_SELECTED_ITEM, warehouse });\n    this.setState({ showWarehouseModal: true });\n  }\n\n  onScrollList(element) {\n    if (element.scrollHeight - element.scrollTop === element.clientHeight) {\n      this.feachMoreWarehouses();\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        <div style={{ justifyContent: \"space-between\", display: \"flex\" }} className=\"my-3\">\n          <h4>Warehouses list</h4>\n          <Button onClick={() => this.setState({ showWarehouseModal: true })}>Add warehouse</Button>\n          <WarehouseModal onClose={() => this.setState({ showWarehouseModal: false })} show={this.state.showWarehouseModal} />\n        </div>\n        {!!this.props.listError && <Alert variant=\"danger\">{this.props.listError.message}</Alert>}\n        <div style={{ position: \"relative\" }}>\n          <div style={{ height: \"calc(100vh - 98px)\", overflow: \"auto\" }} onScroll={e => this.onScrollList(e.target)}>\n          <Table striped bordered hover className=\"mb-0\">\n              <thead>\n                <tr>\n                  <th>#</th>\n                  <th>Title</th>\n                  <th>Products quantity</th>\n                </tr>\n              </thead>\n              <tbody>\n                {this.props.listItems.map(warehouse => (\n                  <tr key={warehouse.id} onClick={() => this.onClickWarehouse(warehouse)}>\n                    <td>{warehouse.id}</td>\n                    <td>{warehouse.title}</td>\n                    <td>{warehouse.productsQuantity}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </Table>\n          </div>\n          {this.props.listLoading && <Loader full />}\n        </div>\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    selectedItem: state.warehouses.selected.item,\n    listItems: state.warehouses.list.items,\n    listLoading: state.warehouses.list.loading,\n    listError: state.warehouses.list.error\n  };\n}\n\nexport default connect(mapStateToProps)(WarehousesList);\n","import React, { Component } from \"react\";\nimport { Form, Col, Button, ButtonGroup } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\n\nimport SelectElement from \"./SelectElement\";\nimport * as warehousesApi from \"../api/warehouses\";\nimport * as productsActions from \"../store/products/actions\";\n\nclass WarehousesDistributionElement extends Component {\n  state = {\n    warehousesSelectPagination: {\n      page: 1,\n      limit: 10,\n      totalCount: 0,\n      count: 0,\n      loading: false,\n      searchString: \"\"\n    }\n  };\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.warehousesDistributions !== this.props.warehousesDistributions) {\n      this.resetOptions();\n    }\n  }\n\n  onChangeWarehouse(warehouseOption) {\n    this.props.dispatch(productsActions.editWarehouseForProduct({ warehouseDistributions: this.props.warehouseDistributions, warehouse: warehouseOption.value }));\n  }\n\n  onChangeQuantity(quantity) {\n    this.props.dispatch(productsActions.editWarehouseForProduct({ warehouseDistributions: this.props.warehouseDistributions, quantity }));\n  }\n\n  async loadOptions(searchString) {\n    if (this.state.warehousesSelectPagination.loading) return;\n\n    this.setState({ warehousesSelectPagination: { ...this.state.warehousesSelectPagination, loading: true } });\n\n    if (searchString !== this.state.warehousesSelectPagination.searchString) {\n      this.resetOptions();\n    }\n\n    const warehouses = await warehousesApi.fetchWarehousesList({\n      searchString,\n      page: this.state.warehousesSelectPagination.page,\n      limit: this.state.warehousesSelectPagination.limit\n    });\n\n    this.setState({\n      warehousesSelectPagination: {\n        ...this.state.warehousesSelectPagination,\n        totalCount: warehouses.totalCount,\n        count: this.state.warehousesSelectPagination.count + warehouses.items.length,\n        page: this.state.warehousesSelectPagination.page + 1,\n        loading: false,\n        searchString\n      }\n    });\n\n    return {\n      options: warehouses.items.map(item => ({ value: item, label: item.title })),\n      hasMore: this.state.warehousesSelectPagination.totalCount !== 0 && this.state.warehousesSelectPagination.totalCount > this.state.warehousesSelectPagination.count\n    };\n  }\n\n  filterOptionsBySelected(options) {\n    return options.filter(option => {\n      return !this.props.warehousesDistributions.find(selectedWarehouse => {\n        if (!selectedWarehouse.warehouse) return false;\n        return selectedWarehouse.warehouse.id === option.value.id;\n      });\n    });\n  }\n\n  reduceSelectOptions(prevOptions, loadedOptions) {\n    return [...prevOptions, ...this.filterOptionsBySelected(loadedOptions)];\n  }\n\n  resetOptions() {\n    this.setState({ warehousesSelectPagination: { ...this.state.warehousesSelectPagination, cacheVersion: this.state.warehousesSelectPagination.cacheVersion + 1, page: 1, totalCount: 0, count: 0 } });\n  }\n\n  onClickRemove() {\n    this.props.dispatch(productsActions.removeWarehouseFromProduct(this.props.warehouseDistributions));\n  }\n\n  render() {\n    return (\n      <>\n        <Form.Row className=\"my-3\">\n          <Col>\n            <SelectElement\n              cacheUniq={this.props.warehousesDistributions}\n              reduceOptions={(prevOptions, loadedOptions) => this.reduceSelectOptions(prevOptions, loadedOptions)}\n              loadOptions={searchString => this.loadOptions(searchString)}\n              onChange={e => this.onChangeWarehouse(e)}\n              value={\n                this.props.warehouseDistributions.warehouse && {\n                  label: this.props.warehouseDistributions.warehouse.title,\n                  value: this.props.warehouseDistributions.warehouse\n                }\n              }\n            />\n          </Col>\n          <Col>\n            <Form.Control\n              required\n              placeholder=\"Quantity\"\n              type=\"number\"\n              min={0}\n              disabled={!this.props.warehouseDistributions.warehouse}\n              value={this.props.warehouseDistributions.quantity}\n              onChange={e => this.onChangeQuantity(+e.target.value)}\n            />\n          </Col>\n          <Col>\n            <ButtonGroup style={{ width: 160 }}>\n              <Button variant=\"danger\" onClick={() => this.onClickRemove()}>\n                Remove\n              </Button>\n            </ButtonGroup>\n          </Col>\n        </Form.Row>\n      </>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    warehousesDistributions: state.products.selected.warehouses.items\n  };\n}\n\nexport default connect(mapStateToProps)(WarehousesDistributionElement);\n","import React, { Component } from \"react\";\nimport { Button, Alert } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\n\nimport WarehousesDistributionElement from \"./WarehousesDistributionElement\";\nimport * as productsActions from \"../store/products/actions\";\nimport Loader from \"./Loader\";\n\nclass WarehousesDistributionList extends Component {\n  onClickAddWarehousesDistribution() {\n    this.props.dispatch(productsActions.addWarehouseForProduct());\n  }\n\n  render() {\n    return (\n      <>\n        {(!!this.props.selectedProduct.freeQuantity || !!this.props.selectedProductWarehouses.length) && (\n          <>\n            <h4>List of owned warehouses</h4>\n            {!!this.props.selectedProductError && <Alert variant=\"danger\">{this.props.selectedProductError.message}</Alert>}\n            <div style={{ position: \"relative\" }}>\n              {this.props.selectedProductWarehouses.map(item => (\n                <WarehousesDistributionElement key={item.id} warehouseDistributions={item} />\n              ))}\n              {this.props.selectedProductLoading && <Loader />}\n            </div>\n            {this.props.selectedProduct && <div className=\"mb-3\">Free count: {this.props.selectedProduct.freeQuantity}</div>}\n            {!this.props.selectedProductLoading && (\n              <Button block onClick={() => this.onClickAddWarehousesDistribution()}>\n                Add to warehouse\n              </Button>\n            )}\n          </>\n        )}\n      </>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    selectedProduct: state.products.selected.item,\n    selectedProductWarehouses: state.products.selected.warehouses.items,\n    selectedProductLoading: state.products.selected.warehouses.loading,\n    selectedProductError: state.products.selected.warehouses.error\n  };\n}\n\nexport default connect(mapStateToProps)(WarehousesDistributionList);\n","import React, { Component } from \"react\";\nimport { Modal, Button, Form, Alert } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport Loader from \"./Loader\";\nimport WarehousesDistributionList from \"./WarehousesDistributionList\";\nimport * as productsActions from \"../store/products/actions\";\n\nclass ProductModal extends Component {\n  state = {\n    showBeforeRemoveModal: false\n  };\n\n  async onClickProductSave(event) {\n    event.preventDefault();\n\n    await this.props.dispatch(productsActions.saveProduct());\n\n    if (!this.props.selectedError) this.onProductClose();\n  }\n\n  onProductClose() {\n    this.setState({ id: null, title: \"\", quantity: 0, showBeforeRemoveModal: false });\n    this.props.dispatch(productsActions.clearSelectedProduct());\n    this.props.onClose();\n  }\n\n  featchProductWarehouses() {\n    if (this.props.selectedProduct) {\n      this.props.dispatch(productsActions.fetchWarehousesBySelectedProduct());\n    }\n  }\n\n  async onClickRemoveProduct() {\n    await this.props.dispatch(productsActions.removeProduct());\n\n    if (!this.props.selectedError) this.onProductClose();\n  }\n\n  onShowBeforeRemoveModal() {\n    this.props.onClose();\n    this.setState({ showBeforeRemoveModal: true });\n  }\n\n  render() {\n    return (\n      <>\n        <Modal show={this.props.show} onHide={() => this.onProductClose()} onShow={() => this.featchProductWarehouses()}>\n          <Form onSubmit={event => this.onClickProductSave(event)}>\n            <Modal.Header closeButton>\n              <Modal.Title>Product information</Modal.Title>\n            </Modal.Header>\n            <Modal.Body style={{ position: \"relative\" }}>\n              {this.props.selectedLoading && <Loader full />}\n              {!!this.props.selectedError && <Alert variant=\"danger\">{this.props.selectedError.message}</Alert>}\n\n              <Form.Group>\n                <Form.Label>Product title</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  required\n                  placeholder=\"Enter product title\"\n                  value={this.props.selectedProduct.title || \"\"}\n                  onChange={e => this.props.dispatch(productsActions.editProduct({ title: e.target.value }))}\n                />\n              </Form.Group>\n              <Form.Group>\n                <Form.Label>Product quantity</Form.Label>\n                <Form.Control\n                  required\n                  type=\"number\"\n                  min={0}\n                  placeholder=\"Enter product quantity\"\n                  value={this.props.selectedProduct.quantity || 0}\n                  onChange={e => this.props.dispatch(productsActions.editProduct({ quantity: +e.target.value }))}\n                />\n              </Form.Group>\n\n              <WarehousesDistributionList\n                quantity={this.state.quantity}\n                onChange={(warehousesDistributions, warehousesDistributionsToDelete) => this.setState({ warehousesDistributions, warehousesDistributionsToDelete })}\n                onChangeQuantitySum={quantitySum => this.setState({ minQuantity: quantitySum })}\n              />\n            </Modal.Body>\n            <Modal.Footer>\n              <Button variant=\"secondary\" onClick={() => this.onProductClose()}>\n                Close\n              </Button>\n              {this.props.selectedProduct.id && (\n                <Button variant=\"danger\" onClick={() => this.onShowBeforeRemoveModal()}>\n                  Remove\n                </Button>\n              )}\n              <Button variant=\"primary\" type=\"submit\">\n                Save Changes\n              </Button>\n            </Modal.Footer>\n          </Form>\n        </Modal>\n        <Modal show={this.state.showBeforeRemoveModal} onHide={() => this.onProductClose()}>\n          <Modal.Header closeButton>\n            <Modal.Title>Question</Modal.Title>\n          </Modal.Header>\n          <Modal.Body style={{ position: \"relative\" }}>Are you want to remove the product? It will be removed from all warehouses.</Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={() => this.onProductClose()}>\n              Close\n            </Button>\n            <Button variant=\"danger\" onClick={() => this.onClickRemoveProduct()}>\n              Yes, remove\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    selectedProduct: state.products.selected.item,\n    selectedProductWarehouses: state.products.selected.warehouses.items,\n    selectedLoading: state.products.selected.loading,\n    selectedError: state.products.selected.error\n  };\n}\n\nexport default connect(mapStateToProps)(ProductModal);\n","import React, { Component } from \"react\";\nimport { Table, Button, Alert } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport * as productsActions from \"../store/products/actions\";\nimport * as productsActionTypes from \"../store/products/actionTypes\";\nimport ProductModal from \"./ProductModal\";\nimport Loader from \"./Loader\";\n\nclass ProductsList extends Component {\n  state = {\n    showProductModal: false\n  };\n\n  async componentDidMount() {\n    this.feachMoreProducts();\n  }\n\n  feachMoreProducts() {\n    if (!this.props.listLoading) this.props.dispatch(productsActions.fetchProducts());\n  }\n\n  onClickProduct(product) {\n    this.props.dispatch({ type: productsActionTypes.SET_SELECTED_ITEM, product });\n    this.setState({ showProductModal: true });\n  }\n\n  onClickAddProduct() {\n    this.setState({ showProductModal: true });\n  }\n\n  onScrollList(element) {\n    if (element.scrollHeight - element.scrollTop === element.clientHeight) {\n      this.feachMoreProducts();\n    }\n  }\n\n  render() {\n    return (\n      <>\n        <div style={{ justifyContent: \"space-between\", display: \"flex\" }} className=\"my-3\">\n          <h4>Products list</h4>\n          <Button onClick={() => this.onClickAddProduct()}>Add product</Button>\n          <ProductModal onClose={() => this.setState({ showProductModal: false })} show={this.state.showProductModal} />\n        </div>\n        {!!this.props.listError && <Alert variant=\"danger\">{this.props.listError.message}</Alert>}\n        <div style={{ position: \"relative\" }}>\n          <div style={{ height: \"calc(100vh - 96px)\", overflow: \"auto\" }} onScroll={e => this.onScrollList(e.target)}>\n            <Table striped bordered hover className=\"mb-0\">\n              <thead>\n                <tr>\n                  <th>#</th>\n                  <th>Title</th>\n                  <th>Free</th>\n                  <th>Quantity</th>            \n                </tr>\n              </thead>\n              <tbody>\n                {this.props.listItems.map(product => (\n                  <tr key={product.id} onClick={() => this.onClickProduct(product)}>\n                    <td>{product.id}</td>\n                    <td>{product.title}</td>\n                    <td>{product.freeQuantity}</td>\n                    <td>{product.quantity}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </Table>\n          </div>\n          {this.props.listLoading && <Loader full />}\n        </div>\n      </>\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    selectedWarehouse: state.warehouses.selected.item,\n    selectedItem: state.products.selected.item,\n    listItems: state.products.list.items,\n    listLoading: state.products.list.loading,\n    listError: state.products.list.error\n  };\n}\n\nexport default connect(mapStateToProps)(ProductsList);\n","import * as actionTypes from \"./actionTypes\";\n\nconst initialState = {\n  selected: {\n    item: {},\n    warehouses: {\n      items: [],\n      error: null,\n      loading: false,\n    },\n    error: null,\n    loading: false,\n    warehousesForDelete: []\n  },\n  list: {\n    items: [],\n    error: null,\n    loading: false,\n    pagination: {\n      page: 1,\n      limit: 20\n    }\n  }\n};\n\nexport default (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_SELECTED_ITEM:\n      return {\n        ...state,\n        selected: {\n          ...state.selected,\n          item: action.product\n        }\n      };\n    case actionTypes.SET_SELECTED_LOADING:\n      return {\n        ...state,\n        selected: {\n          ...state.selected,\n          loading: action.loading\n        }\n      };\n    case actionTypes.SET_SELECTED_ERROR:\n      return {\n        ...state,\n        selected: {\n          ...state.selected,\n          error: action.error\n        }\n      };\n    case actionTypes.SET_SELECTED_WAREHOUSES_FOR_DELETE:\n      return {\n        ...state,\n        selected: {\n          ...state.selected,\n          warehousesForDelete: action.warehousesForDelete\n        }\n      };\n    case actionTypes.SET_SELECTED_WAREHOUSES_ITEMS:\n      return {\n        ...state,\n        selected: {\n          ...state.selected,\n          warehouses: {\n            ...state.selected.warehouses,\n            items: action.items\n          }\n        }\n      };\n    case actionTypes.SET_SELECTED_WAREHOUSES_ERROR:\n      return {\n        ...state,\n        selected: {\n          ...state.selected,\n          warehouses: {\n            ...state.selected.warehouses,\n            error: action.error\n          }\n        }\n      };\n    case actionTypes.SET_SELECTED_WAREHOUSES_LOADING:\n      return {\n        ...state,\n        selected: {\n          ...state.selected,\n          warehouses: {\n            ...state.selected.warehouses,\n            loading: action.loading\n          }\n        }\n      };\n    case actionTypes.SET_LIST_ITEMS:\n      return {\n        ...state,\n        list: {\n          ...state.list,\n          items: action.items\n        }\n      };\n    case actionTypes.SET_LIST_PAGE:\n      return {\n        ...state,\n        list: {\n          ...state.list,\n          pagination: {\n            ...state.list.pagination,\n            page: action.page\n          }\n        }\n      };\n    case actionTypes.SET_LIST_TOTAL_COUNT:\n      return {\n        ...state,\n        list: {\n          ...state.list,\n          pagination: {\n            ...state.list.pagination,\n            totalCount: +action.totalCount\n          }\n        }\n      };\n    case actionTypes.SET_LIST_LOADING:\n      return {\n        ...state,\n        list: {\n          ...state.list,\n          loading: action.loading\n        }\n      };\n    case actionTypes.SET_LIST_ERROR:\n      return {\n        ...state,\n        list: {\n          ...state.list,\n          error: action.error\n        }\n      };\n\n    default: {\n      return state;\n    }\n  }\n};\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport * as reducers from \"./reducers\";\n\nexport default createStore(combineReducers(reducers), composeWithDevTools(applyMiddleware(thunk)));\n","import React, { Component } from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { Provider } from \"react-redux\";\n\nimport WarehousesList from \"./components/WarehousesList\";\nimport ProductsList from \"./components/ProductsList\";\nimport store from \"./store\";\n\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nexport default class App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <Container>\n          <Row>\n            <Col className=\"full-height\" xs=\"12\" md=\"6\">\n              <WarehousesList />\n            </Col>\n            <Col className=\"full-height\" xs=\"12\" md=\"6\">\n              <ProductsList />\n            </Col>\n          </Row>\n        </Container>\n      </Provider>\n    );\n  }\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}